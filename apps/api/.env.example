# Fastwreck API - Environment Variables (Example)
#
# Usage:
#   cp .env.example .env
#   (then fill in secrets and provider-specific values)

# --- Server ---
PORT=4000
# Console(frontend) origin allowed by CORS
CORS_ORIGIN=http://localhost:3000
# Where to redirect after OIDC login (console URL)
FRONTEND_URL=http://localhost:3000

# --- Database (PostgreSQL) ---
# PostgreSQL connection settings (from docker-compose.infra.yaml)
POSTGRES_DB=fastwreck
POSTGRES_USER=fastwreck
POSTGRES_PASSWORD=fastwreck_dev_password
POSTGRES_PORT=5432

# Postgres connection string for Prisma
DATABASE_URL=postgresql://fastwreck:fastwreck_dev_password@localhost:5432/fastwreck?schema=public
# If you are using Docker for local development, you might need to use
# DATABASE_URL=postgresql://fastwreck:fastwreck_dev_password@0.0.0.0:5432/fastwreck?schema=public

# --- Redis ---
# Redis connection settings (from docker-compose.infra.yaml)
REDIS_PORT=6379

# --- Auth (JWT) ---
# IMPORTANT: set a long random secret in real environments
JWT_SECRET=dev-jwt-secret-change-in-production-min-32-chars
# e.g. 7d, 1h
JWT_EXPIRES_IN=7d

# --- Auth (OIDC) ---
# If you don't use OIDC locally, you can leave these empty.
# OIDC_ISSUER should generally end with a trailing slash, e.g.:
# OIDC_ISSUER=https://accounts.google.com/
# For local Authentik setup, use: http://localhost:9000/application/o/fastwreck/
OIDC_ISSUER=
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=
# Example: http://localhost:4000/auth/oidc/callback
OIDC_REDIRECT_URI=http://localhost:4000/auth/oidc/callback

# --- Authentik (Optional) ---
# Only needed if running Authentik services with docker-compose
# Uncomment these if you use --profile authentik
# AUTHENTIK_POSTGRES_DB=authentik
# AUTHENTIK_POSTGRES_USER=authentik
# AUTHENTIK_POSTGRES_PASSWORD=authentik_dev_password
# AUTHENTIK_SECRET_KEY=change-this-to-a-random-secret-key-min-50-chars
# AUTHENTIK_PORT_HTTP=9000
# AUTHENTIK_PORT_HTTPS=9443

