# ==========================================
# REQUIRED CONFIGURATION
# ==========================================

# Database Configuration
POSTGRES_DB=fastwreck
POSTGRES_USER=fastwreck
POSTGRES_PASSWORD=fastwreck_dev_password
POSTGRES_PORT=5432
DATABASE_URL="postgresql://fastwreck:fastwreck_dev_password@localhost:5432/fastwreck?schema=public"

# Redis Configuration
REDIS_PORT=6379
REDIS_URL="redis://localhost:6379"

# Application Configuration
NODE_ENV=development
PORT=4000

# JWT Configuration
# IMPORTANT: Change this to a random secret in production!
# Generate with: openssl rand -base64 32
JWT_SECRET=change-this-to-a-random-jwt-secret-key
JWT_EXPIRES_IN=7d

# Authentication Configuration
# Set to 'local' for email/password (default)
# Set to 'oidc' for OIDC authentication (requires external Authentik or other OIDC provider)
AUTH_MODE=local

# ==========================================
# OPTIONAL CONFIGURATION
# ==========================================

# OIDC Configuration (only required when AUTH_MODE=oidc)
# Use an external Authentik instance or other OIDC-compatible provider
# Example for external Authentik: https://auth.example.com/application/o/fastwreck/
OIDC_ISSUER=
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=
OIDC_REDIRECT_URI=http://localhost:4000/auth/oidc/callback

# Frontend URL (for OIDC redirects)
FRONTEND_URL=http://localhost:3000

# CORS Origin
CORS_ORIGIN=http://localhost:3000

# ==========================================
# MAIL CONFIGURATION
# ==========================================

# Mail Driver (sendgrid, mailgun, smtp)
# Leave empty to disable email sending
MAIL_DRIVER=

# Default sender information
MAIL_FROM_NAME=Fastwreck
MAIL_FROM_ADDRESS=noreply@fastwreck.dev

# SendGrid Configuration (required when MAIL_DRIVER=sendgrid)
SENDGRID_API_KEY=

# Mailgun Configuration (required when MAIL_DRIVER=mailgun)
MAILGUN_API_KEY=
MAILGUN_DOMAIN=
MAILGUN_BASE_URL=https://api.mailgun.net

# SMTP Configuration (required when MAIL_DRIVER=smtp)
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

# ==========================================
# OPENAI CONFIGURATION
# ==========================================

OPENAI_API_KEY=
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ==========================================
# MEDIA UPLOAD CONFIGURATION
# ==========================================

# Media file size limits (in bytes)
MEDIA_UPLOAD_MAX_SIZE_IMAGE=10485760      # 10MB
MEDIA_UPLOAD_MAX_SIZE_VIDEO=104857600     # 100MB

# Storage type: "local" or "s3"
MEDIA_STORAGE_TYPE=local

# Local storage path (relative to project root)
MEDIA_LOCAL_STORAGE_PATH=./uploads

# S3 Configuration (optional, only required when MEDIA_STORAGE_TYPE=s3)
# MEDIA_S3_BUCKET=
# MEDIA_S3_REGION=ap-northeast-2
# MEDIA_S3_ACCESS_KEY_ID=
# MEDIA_S3_SECRET_ACCESS_KEY=
# MEDIA_S3_ENDPOINT=                       # For S3-compatible storage (MinIO, etc.)
